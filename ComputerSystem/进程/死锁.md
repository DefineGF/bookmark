#### 死锁

##### 死锁条件（需全满足）

- 互斥条件
- 不剥夺条件：只能由获得该资源的进程释放；
- 请求并保持：请求的资源被请他进程占有，但自己占有的资源不释放；
- 循环等待



##### 处理

- 死锁预防：破坏上述任一条件即可

- 死锁避免：系统安全状态 | 银行家算法

    并非所有的不安全状态都是死锁状态；系统处于安全状态，系统便可避免进入死锁状态；

    银行家算法：

    1. Request <= Need：to 2; 否则 出错；
    2. Request <= Aviable：to 3；否则 等待；
    3. 分配：
        - Available -= Request；
        - Allocation += Request；
        - Need -= Request；
    4. 系统安全性算法：安全：正式分配；不安全：恢复试探分配前状态；

- 死锁检测 & 解除

    检测方法：资源图；

    解除：

    - 资源剥夺法：挂起死锁进程，抢占资源；
    - 撤销进程法：撤销部分或者全部
    - 进程回退法：设置还原点，让一个或者多进程回退到足以回避死锁的地步；



