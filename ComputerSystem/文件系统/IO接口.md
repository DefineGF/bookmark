#### IO接口

主机与外设之间的交接界面；

实现主机与外设之间的信息交换；



##### 类型

- 主机和接口侧总是并行传送；外设和接口侧并行或者串行传送；
- 控制方式：程序查询接口，中断接口，DMA接口；
- 功能选择：可编程接口 和 不可编程接口；

##### 功能

- 主机与外设的通信联络控制：时序配合问题；
- 地址译码器和设备选择：接口对地址译码产生设备选择信息；
- 数据缓冲：设数据缓冲寄存器用以暂存数据；
- 信号格式转换：电平转换，并/串 转换，数/模转换；
- 传送控制命令和状态信息：含IO过程中错误和状态控制；





##### 结构

主机侧：

- 数据线

    - 数据缓冲器与内存或者CPU寄存器进行数据传送；
    - 接口和设备的状态信息 -> 状态寄存器 ->数据线 -> CPU
    - CPU 对外设的控制命令 -> 数据线 -> 控制寄存器

- 地址线

    给出需访问的IO接口中的寄存器的地址；

- 控制线

    - 传送读写信号
    - 仲裁信号
    - 握手信号



##### IO端口编址

IO端口：

接口电路中可被CPU直接访问的寄存器：数据端口；状态端口；控制端口



- 统一编址：存储器映射方式

    把IO端口看做存储器单元进行地址分配；CPU无需设置专门的IO指令（同一的访存指令）

    - 优点：无需专门的IO指令，灵活方便；

    - 缺点：端口占用存储地址，使内存容量减少

        ​            执行速度慢；

- 独立编址：IO映射方式

    IO端口主存地址相互独立，需设置专门的IO指令来访问IO端口

    - 优点：IO指令与存储器指令有明显区别，编制清晰；
    - 缺点：指令少；需要CPU提供存储器读写，IO设备读写两组控制心信号，增加复杂性；

