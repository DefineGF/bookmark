### Http概述

Http是一种不保存状态，即无状态协议；其自身不对请求和响应之间的通信状态进行保存；（不做持久化处理）；
先从客户端建立通信，服务端没有收到请求的时候不会响应；



#### 相关功能

##### 持久连接与管线化（默认为持久连接）

只要一端没有明确提出断开连接，则保持TCP连接状态；减少了TCP连接的重复建立和断开造成的额外开销，减轻服务器的负载；

同时持久连接使得多数请求得以管线化方式发送，不用等待响应也可直接发送下一个请求；



##### 状态管理 Cookie

通过在请求和响应报文中写入Cookie信息来控制客户端的状态；

- 服务端发送的响应报文中一个叫做Set-Cookie的首部字段信息，通知客户端保存Cookie；
- 客户端发送请求时，自动在请求报文中加入Cookie值发送出去；
- 服务端根据请求报文中的Cookie与服务端上保存的状态相比得到之前的状态信息；



##### 编码

- 内容编码：指明应用在实体内容上的编码格式，并保存实体信息原样压缩；由客户端接收并解码；
    - gzip（GUN zip）
    - compress（UNIX系统的标准压缩）
    - deflate（zlib）
    - identity（不进行压缩）

- 分块传输编码：传输大容量的数据是，通常把数据分割成多块以让浏览器逐步显示；



##### 范围请求

从之前下载中断处恢复下载；使用首部字段 Range 来指定资源的 byte 范围: Range:bytes= 5001-10000



##### 内容协商

同一网站可能存在多份内容相同的页面（中文版、英文版）；通过内容协商机制获取对应版本的页面；

- 服务器驱动协商：以请求的首部字段为参考，由服务端进行内容协商；
- 客户端驱动协商：由客户端进行内容协商内容；
- 透明协商：服务端和客户端驱动的结合体，各自进行内容协商；